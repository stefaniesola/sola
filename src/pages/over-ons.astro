---
import BaseLayout from "../layouts/BaseLayout.astro";
import {
  people,
  missionVision,
  aboutPage,
  partnershipsPage,
} from "../data/content";
import OptimizedImage from "../layouts/utilities/OptimizedImage.astro";

const coreTeam = people.filter((person) => person.isTeamMember === true);
const partners = people.filter((person) => person.isTeamMember === false);
---

<BaseLayout title={aboutPage.title} description={aboutPage.metaDescription}>
  <section class="bg-base-50/80 border-b border-base-200">
    <div class="max-w-6xl mx-auto px-6 py-16 space-y-6 scroll-fade-in">
      <p class="uppercase text-xs tracking-[0.25em] text-base-500">
        {aboutPage.label}
      </p>
      <h1 class="text-4xl font-semibold text-base-900">{aboutPage.heading}</h1>
      <p class="text-base-700 max-w-3xl">
        {aboutPage.description}
      </p>
      <p class="text-base-700 max-w-2xl italic">{aboutPage.quote}</p>
    </div>
  </section>

  <section class="max-w-6xl mx-auto px-6 py-14 space-y-16">
    <!-- Missie & Visie -->
    <div class="space-y-8 scroll-fade-in">
      <h2 class="text-3xl font-semibold text-base-900">
        {aboutPage.sectionMissieVisie}
      </h2>
      <div class="grid lg:grid-cols-2 gap-8">
        <div class="space-y-4 p-8 rounded-2xl bg-gradient-to-br from-base-50 to-base-100 border border-base-200">
          <h3 class="text-xl font-semibold text-base-900">
            {aboutPage.missieLabel}
          </h3>
          <p class="text-lg text-base-700 leading-relaxed">
            {missionVision.mission}
          </p>
        </div>
        <div class="space-y-4 p-8 rounded-2xl bg-gradient-to-br from-accent-50 to-accent-100 border border-accent-200">
          <h3 class="text-xl font-semibold text-base-900">
            {aboutPage.visieLabel}
          </h3>
          <p class="text-lg text-base-700 leading-relaxed">
            {missionVision.vision}
          </p>
        </div>
      </div>
    </div>

    <!-- Team -->
    <div class="space-y-8 scroll-fade-in">
      <div>
        <h2 class="text-3xl font-semibold text-base-900">
          {aboutPage.sectionTeam}
        </h2>
        <p class="text-base-700 mt-2 max-w-2xl">
          Het team dat SOLA dagelijks draagt en vormgeeft.
        </p>
      </div>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          coreTeam.map((person) => (
            <article class="group p-6 rounded-2xl border border-base-200 bg-base-50 hover:shadow-lg hover:bg-accent-50/50 hover:border-accent-200 transition-all duration-300">
              <div class="flex items-start gap-4 mb-4">
                {person.logo ? (
                  <div class="w-24 h-24 rounded-full overflow-hidden shrink-0 bg-base-200">
                    <OptimizedImage
                      src={person.logo}
                      alt={`${person.name}`}
                      width={400}
                      height={400}
                      quality={100}
                      class="w-full h-full object-cover"
                    />
                  </div>
                ) : (
                  <div class="w-24 h-24 rounded-full shrink-0 bg-base-300 flex items-center justify-center">
                    <span class="text-2xl font-semibold text-base-600">
                      {person.name.charAt(0)}
                    </span>
                  </div>
                )}
                <div class="flex-1 min-w-0">
                  <h3 class="text-xl font-semibold text-base-900 mb-1">
                    {person.name}
                  </h3>
                  <p class="text-base-600">{person.role}</p>
                </div>
              </div>
              <p class="text-base-700 leading-relaxed">{person.bio}</p>
            </article>
          ))
        }
      </div>
    </div>

    <!-- Partners -->
    <div class="space-y-8 scroll-fade-in">
      <div>
        <h2 class="text-3xl font-semibold text-base-900">
          {partnershipsPage.sectionPartners}
        </h2>
        <p class="text-base-700 mt-2 max-w-2xl">
          Experts en specialisten waarmee we samenwerken om de beste ervaringen te creÃ«ren.
        </p>
      </div>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          partners.map((partner) => (
            <article class="group p-6 rounded-2xl border border-base-200 bg-base-50 hover:shadow-lg hover:bg-accent-50/50 hover:border-accent-200 transition-all duration-300">
              <div class="flex items-start gap-4 mb-4">
                {partner.logo ? (
                  <div class="w-24 h-24 rounded-full overflow-hidden shrink-0 bg-base-200">
                    <OptimizedImage
                      src={partner.logo}
                      alt={`${partner.name}`}
                      width={400}
                      height={400}
                      quality={100}
                      class="w-full h-full object-cover"
                    />
                  </div>
                ) : (
                  <div class="w-24 h-24 rounded-full shrink-0 bg-base-300 flex items-center justify-center">
                    <span class="text-2xl font-semibold text-base-600">
                      {partner.name.charAt(0)}
                    </span>
                  </div>
                )}
                <div class="flex-1 min-w-0">
                  <h3 class="text-xl font-semibold text-base-900 mb-1">
                    {partner.name}
                  </h3>
                  <p class="text-base-600">{partner.role}</p>
                </div>
              </div>
              <p class="text-base-700 leading-relaxed mb-4">{partner.bio}</p>
              {partner.website && (
                <a
                  href={partner.website}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center text-sm font-semibold text-accent-700 hover:text-accent-800 transition-colors"
                >
                  Bezoek website
                  <svg
                    class="w-4 h-4 ml-1"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                    />
                  </svg>
                </a>
              )}
            </article>
          ))
        }
      </div>
    </div>

    <!-- Partner CTA -->
    <div class="p-8 rounded-2xl bg-accent-600 text-white scroll-fade-in">
      <h2 class="text-2xl font-semibold mb-2">
        {partnershipsPage.ctaTitle}
      </h2>
      <p class="text-white/90 mb-6">
        {partnershipsPage.ctaDescription}
      </p>
      <a
        href="/contact"
        class="inline-flex items-center justify-center px-5 py-3 rounded-full bg-white text-accent-600 font-semibold hover:bg-base-50 transition-colors"
      >
        Neem contact op
      </a>
    </div>
  </section>

  <style>
    .scroll-fade-in {
      opacity: 0;
      transform: translateY(30px);
      transition:
        opacity 0.8s ease-out,
        transform 0.8s ease-out;
    }

    .scroll-fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      }, observerOptions);

      document.querySelectorAll(".scroll-fade-in").forEach((el) => {
        observer.observe(el);
      });
    });
  </script>
</BaseLayout>
