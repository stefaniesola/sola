---
import { Image } from "astro:assets";
import logoImage from "../../assets/images/logo.png";

interface Props {
  isJourneyPage?: boolean;
}

const { isJourneyPage = false } = Astro.props as Props;
---

{isJourneyPage && <div class="journey-nav-hotzone" aria-hidden="true"></div>}
<header
  class={`border-b border-black/5 z-50 bg-base-25/80 backdrop-blur-xl ${
    isJourneyPage ? "journey-nav fixed inset-x-0 top-0" : "sticky top-0"
  }`}
>
  <div class="w-full mx-auto px-6 max-w-6xl lg:px-10">
    <div
      x-data="{ open: false }"
      class="nav-shell flex items-center justify-between py-4"
    >
      <a href="/" class="logo-link inline-flex items-center">
        <Image src={logoImage} alt="SOLA" class="logo-image h-10 w-auto" />
      </a>
      <button
        @click="open = !open"
        :aria-expanded="open.toString()"
        aria-controls="main-navigation"
        aria-label="Menu"
        class="menu-toggle inline-flex items-center justify-center gap-2 p-2 text-base-700 hover:text-black focus:outline-none focus:text-black lg:hidden"
      >
        <svg
          :class="{'rotate-90': open}"
          class="w-6 h-6 transition-transform"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            x-show="!open"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
          <path
            x-show="open"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
        <span class="text-sm font-medium tracking-wide">Menu</span>
      </button>
      <nav
        id="main-navigation"
        :class="{'max-h-80 pt-4': open, 'max-h-0': !open}"
        class="main-navigation flex-col w-full lg:w-auto lg:flex lg:flex-row lg:items-center lg:gap-8 overflow-hidden transition-all duration-300 max-h-0 lg:max-h-none"
      >
        <div
        class="flex flex-col gap-3 lg:flex-row lg:items-center lg:gap-6 text-sm lg:text-[15px] font-medium tracking-wide"
      >
          <a class="hover:text-accent-700" href="/">Home</a>
          <a class="hover:text-accent-700" href="/reizen">Reizen</a>
          <a class="hover:text-accent-700" href="/over-ons">Over ons</a>
          <a class="hover:text-accent-700" href="/contact">Contact</a>
        </div>
        <div class="mt-4 lg:mt-0 lg:ml-4 flex items-center">
          <a
            href="https://calendly.com/hello-solatravel/30min"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center rounded-full bg-accent-600 text-white px-4 py-2 text-xs font-semibold tracking-wide hover:bg-accent-700 transition"
          >
            Plan een gesprek
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<style>
  .journey-nav-hotzone {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 16px;
    z-index: 60;
  }

  .journey-nav {
    transform: translateY(-100%);
    opacity: 0;
    pointer-events: none;
    transition: transform 0.25s ease, opacity 0.25s ease;
  }

  .journey-nav-hotzone:hover + .journey-nav,
  .journey-nav:hover,
  .journey-nav:focus-within {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }

  @media (hover: none) {
    .journey-nav-hotzone {
      display: none;
    }

    .journey-nav {
      transform: none;
      opacity: 1;
      pointer-events: auto;
    }
  }

  @media (max-width: 768px) {
    .nav-shell {
      align-items: center;
      position: relative;
    }

    .logo-link {
      flex: 0 0 auto;
      line-height: 0;
    }

    .logo-image {
      height: 30px;
      width: auto;
      max-height: 30px;
      object-fit: contain;
      display: block;
    }

    .menu-toggle {
      min-width: 44px;
      min-height: 44px;
    }

    .main-navigation {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.98);
      border-bottom: 1px solid rgba(0, 0, 0, 0.06);
      z-index: 60;
    }
  }
</style>
