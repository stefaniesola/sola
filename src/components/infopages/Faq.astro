---
import { faqItems } from "../../data/faq";

interface Props {
  heading: string;
  description: string;
}

const { heading, description } = Astro.props as Props;
---

<section>
  <div class="px-8 pt-20 mx-auto md:px-12 lg:px-24 max-w-7xl">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-12">
      <div class="text-center lg:text-left">
        <h1
          class="text-xl leading-tight tracking-tight sm:text-2xl md:text-3xl capitalize lg:text-4xl font-medium text-base-900 lg:text-balance">
          {heading}
        </h1>
        <p class="text-base leading-normal mt-4 text-base-500 font-medium">
          {description}
        </p>
      </div>
      <div
        x-data="{
  activeAccordion: '',
  setActiveAccordion(id) {
  this.activeAccordion = (this.activeAccordion == id) ? '' : id
  }
  }"
        class="relative w-full mx-auto font-normal lg:col-span-2">
        {
          faqItems.map((item) => (
            <div
              x-data="{ id: $id('accordion') }"
              :class="{ 'text-black': activeAccordion==id, 'text-zinc-600 hover:text-accent-500': activeAccordion!=id }"
              class="cursor-pointer group text-zinc-600 hover:text-accent-500">
              <button
                @click="setActiveAccordion(id)"
                class="flex items-center justify-between w-full p-4 pb-1 text-left font-medium select-none">
                <span>{item.question}</span>
                <svg
                  class="w-5 h-5 duration-300 ease-out text-accent-500"
                  :class="{ '-rotate-[45deg]': activeAccordion==id }"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 6v12m6-6H6">
                  </path>
                </svg>
              </button>
              <div
                x-show="activeAccordion==id"
                x-collapse=""
                style="display: none;">
                <div class="p-4 pt-2 text-zinc-500" set:html={item.answerHtml} />
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
